// /// Prisma schema model for `Volunteer` table in database.
// /// Here we model all the necesary data and information wee need for the Volunteer activities, and related tables (tempData, attendance)
// /// @author Kevin Bravo (kevinbravo.me)

import { ScholarProgramInformation } from "..\..\users\scholar\scholar"
import { ScholarAttendance } from "..\type-activities"

enum KindOfVolunteer {
    EXTERNO
    INTERNO
}

model Volunteer {
    id                   String                @id @default(nanoid())
    title                String
    spots                Int
    description          String
    start_dates          DateTime[]
    end_dates            DateTime[]
    raiting              Float?
    place                String
    photoAlbum           String?
    kind_of_volunteer    String
    constancia           String?
    status               String
    volunteer_attendance VolunteerAttendance[]
}

// model Project {
//     id           String      @id @default(nanoid())
//     organizacion beneficiada

//     beneficiary String
// }

model VolunteerAttendance {
    id            String                    @id @default(nanoid(22))
    scholar       ScholarProgramInformation @relation(fields: [scholarId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    scholarId     String
    volunteerId   String
    hours         Float
    volnuteer     Volunteer                 @relation(fields: [volunteerId], references: [id], onDelete: Cascade, onUpdate: Cascade)
    attendance    ScholarAttendance
    justification String?

    @@index([volunteerId])
    @@index([scholarId])
}
